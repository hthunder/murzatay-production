<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/x-icon" href="/img/favicon.ico">
	<title>{{page_title}}</title>
	<link rel="stylesheet" type="text/css" href="/css/main.css">
	<script src="/tinymce/tinymce.min.js"></script>
	<script type="text/javascript">
		tinymce.init({
			selector: '#markdown',
			height: 500,
			width: '100%',
			plugins: ['advlist lists image paste'],
			paste_as_text: true,
			toolbar: 'undo redo | formatselect | ' +
			'bold italic backcolor | alignleft aligncenter ' +
			'alignright alignjustify | bullist numlist outdent indent | ' +
			'removeformat',
			images_upload_url: '/api/images',
			automatic_uploads: true,
			font_formats: 'Raleway=raleway; Lora=lora',
			fontsize_formats: '14.2px 16px 18px 20.25px 22.8px 25.6px 28.8',
			content_style: "@import url('/css/main.css'); body {font-size: 18px; font-family: Raleway}",
			block_formats: 'Paragraph=p; Heading 1=h1; Heading 2=h2; Heading 3=h3; Heading 4=h4; Preformatted=pre',
			style_formats: [
				{ title: 'Headings', items: [
					{ title: 'Heading 1', format: 'h1' },
					{ title: 'Heading 2', format: 'h2' },
					{ title: 'Heading 3', format: 'h3' },
					{ title: 'Heading 4', format: 'h4' }
				]},
				{ title: 'Inline', items: [
					{ title: 'Bold', format: 'bold' },
					{ title: 'Italic', format: 'italic' },
					{ title: 'Underline', format: 'underline' },
					{ title: 'Strikethrough', format: 'strikethrough' },
					{ title: 'Superscript', format: 'superscript' },
					{ title: 'Subscript', format: 'subscript' },
					{ title: 'Code', format: 'code' }
				]},
				{ title: 'Blocks', items: [
					{ title: 'Paragraph', format: 'p' },
					{ title: 'Blockquote', format: 'blockquote' },
					{ title: 'Div', format: 'div' },
					{ title: 'Pre', format: 'pre' }
				]},
				{ title: 'Align', items: [
					{ title: 'Left', format: 'alignleft' },
					{ title: 'Center', format: 'aligncenter' },
					{ title: 'Right', format: 'alignright' },
					{ title: 'Justify', format: 'alignjustify' }
				]}
			]
		})
  </script>
</head>

<body class="edit__body">
	<div>
		<h1 class="edit_title">{{page_title}}</h1>
		<form class="article-form" action="{{page_action}}" method="post" enctype="multipart/form-data">
			<div>Рубрика</div>
			<select name="rubric" id="" required class="edit__select">
				{{#each rubrics}}
					<option class="edit__select-item" value="{{this}}">{{this}}</option>
				{{/each}}
			</select>
			<div>
				<label class="article-form__title" for="title">Название статьи</label>
				<input required value="{{article.title}}" type="text" class="edit__article-title" name="title" id="title" />
			</div>
			<div>
				<label class="article-form__description" for="description">Описание</label>
				<textarea class="article-form__description-area"  required name="description" id="description">{{article.description}}</textarea>
			</div>
			<div>
				<label for="markdown" class="markdown__title">Разметка</label>
				<textarea name="markdown" class="markdown" id="markdown">{{article.markdown}}</textarea>
			</div>
			<div class="article-form__img-container">
				<label class="article-form__img-label" for="image">Выберите изображение</label>
				<input class="article-form__img-input" type="file" id="image" name="img" accept="image/*" />
			</div>
			<a href="/articles" class="edit__cancel">Отменить</a>
			<button type="submit" class="article-form__submit edit__submit">Сохранить</button>
		</form>
		{{#if article.errors}}
			<p>{{article.errors}}</p>
		{{/if}}
	</div>
	<script type="module" src="/js/dist/main.js"></script>
</body>

</html>